import React, { useState } from 'react';
import { View, Text, StyleSheet, TextInput, TouchableOpacity, Image,
    Alert, // Sirve para mostrar alertas.
    KeyboardAvoidingView, // Para manejar el teclado en iOS/Android
    Platform // Para diferenciar plataformas
} from 'react-native';

// Importa el hook de navegación
import { useNavigation } from '@react-navigation/native';
// Importamos Estilos
import { styles, COLORS } from './assets/css/LogIn_Styles';

// Puedes usar 'axios' para la conexión real con tu backend Express
import axios from 'axios'; 

// Importa la imagen de Semillín. Asegúrate de que esta ruta sea correcta.
import SemillinImage from './assets/LogInAssets/Semillin.png'; 

// URL de tu Backend Express (¡IMPORTANTE! Cámbiala a tu IP local y puerto)
// Ejemplo: 'http://192.168.1.XX:3000' si estás usando tu dispositivo
const API_URL = 'http://localhost:3000/api/auth/login'; 

const LogIn = () => {

    return (
        <KeyboardAvoidingView 
            style={styles.fullScreen}
            behavior={Platform.OS === "ios" ? "padding" : "height"}
        >
            <View style={styles.container}>
                {/* LOGO Y TÍTULO */}
                <Image source={SemillinImage} style={styles.logo} resizeMode="contain" />
                <Text style={styles.title}>¡Hola de nuevo!</Text>

                {/* INPUTS DE ADMINISTRADOR (PADRE) */}
                <TextInput
                    style={styles.input}
                    placeholder="Correo Electrónico"
                    keyboardType="email-address"
                    autoCapitalize="none"
                />
                <TextInput
                    style={styles.input}
                    placeholder="Contraseña"
                    secureTextEntry
                />

                {/* BOTÓN DE LOGIN PRINCIPAL */}
                <TouchableOpacity 
                    style={[styles.loginButton]} 
                >
                    <Text style={styles.loginButtonText}>
                        {'Iniciar Sesión (Padre)'}
                    </Text>
                </TouchableOpacity>

                {/* SEPARADOR */}
                <View style={styles.separatorContainer}>
                    <View style={styles.line} />
                    <Text style={styles.separatorText}>O</Text>
                    <View style={styles.line} />
                </View>

                {/* BOTÓN DE ACCESO DEL NIÑO */}
                <TouchableOpacity style={styles.childButton}>
                    <Text style={styles.childButtonText}>Soy el niño (acceso rápido)</Text>
                </TouchableOpacity>

                {/* OPCIONES SECUNDARIAS */}
                <TouchableOpacity>
                    <Text style={styles.secondaryText}>¿No tienes cuenta? Regístrate aquí</Text>
                </TouchableOpacity>
            </View>
        </KeyboardAvoidingView>
    );
};

export default LogIn;